<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Evaluation Metric API" property="og:title">
<meta content="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/og-logo.png" property="og:image">
<meta content="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/og-logo.png" property="og:image:secure_url">
<meta content="Evaluation Metric API" property="og:description"/>
<title>Evaluation Metric API — mxnet  documentation</title>
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet"/>
<link href="../../../_static/basic.css" rel="stylesheet" type="text/css">
<link href="../../../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../../../_static/mxnet.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
<script src="https://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="../../../_static/underscore.js" type="text/javascript"></script>
<script src="../../../_static/searchtools_custom.js" type="text/javascript"></script>
<script src="../../../_static/doctools.js" type="text/javascript"></script>
<script src="../../../_static/selectlang.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script type="text/javascript"> jQuery(function() { Search.loadIndex("/searchindex.js"); Search.init();}); </script>
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
      Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-96378503-1', 'auto');
      ga('send', 'pageview');

    </script>
<!-- -->
<!-- <script type="text/javascript" src="../../../_static/jquery.js"></script> -->
<!-- -->
<!-- <script type="text/javascript" src="../../../_static/underscore.js"></script> -->
<!-- -->
<!-- <script type="text/javascript" src="../../../_static/doctools.js"></script> -->
<!-- -->
<!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
<!-- -->
<link href="../../../genindex.html" rel="index" title="Index">
<link href="../../../search.html" rel="search" title="Search"/>
<link href="../index.html" rel="up" title="MXNet - Python API"/>
<link href="../module/module.html" rel="next" title="Module API"/>
<link href="../kvstore/kvstore.html" rel="prev" title="KVStore API"/>
<link href="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/mxnet-icon.png" rel="icon" type="image/png"/>
</link></link></link></meta></meta></meta></head>
<body background="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/mxnet-background-compressed.jpeg" role="document">
<div class="content-block"><div class="navbar navbar-fixed-top">
<div class="container" id="navContainer">
<div class="innder" id="header-inner">
<h1 id="logo-wrap">
<a href="../../../" id="logo"><img src="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/mxnet_logo.png"/></a>
</h1>
<nav class="nav-bar" id="main-nav">
<a class="main-nav-link" href="../../../install/index.html">Install</a>
<span id="dropdown-menu-position-anchor">
<a aria-expanded="true" aria-haspopup="true" class="main-nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">Gluon <span class="caret"></span></a>
<ul class="dropdown-menu navbar-menu" id="package-dropdown-menu">
<li><a class="main-nav-link" href="../../../gluon/index.html">About</a></li>
<li><a class="main-nav-link" href="https://www.d2l.ai/">Dive into Deep Learning</a></li>
<li><a class="main-nav-link" href="https://gluon-cv.mxnet.io">GluonCV Toolkit</a></li>
<li><a class="main-nav-link" href="https://gluon-nlp.mxnet.io/">GluonNLP Toolkit</a></li>
</ul>
</span>
<span id="dropdown-menu-position-anchor">
<a aria-expanded="true" aria-haspopup="true" class="main-nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">API <span class="caret"></span></a>
<ul class="dropdown-menu navbar-menu" id="package-dropdown-menu">
<li><a class="main-nav-link" href="../../../api/python/index.html">Python</a></li>
<li><a class="main-nav-link" href="../../../api/c++/index.html">C++</a></li>
<li><a class="main-nav-link" href="../../../api/clojure/index.html">Clojure</a></li>
<li><a class="main-nav-link" href="../../../api/java/index.html">Java</a></li>
<li><a class="main-nav-link" href="../../../api/julia/index.html">Julia</a></li>
<li><a class="main-nav-link" href="../../../api/perl/index.html">Perl</a></li>
<li><a class="main-nav-link" href="../../../api/r/index.html">R</a></li>
<li><a class="main-nav-link" href="../../../api/scala/index.html">Scala</a></li>
</ul>
</span>
<span id="dropdown-menu-position-anchor-docs">
<a aria-expanded="true" aria-haspopup="true" class="main-nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">Docs <span class="caret"></span></a>
<ul class="dropdown-menu navbar-menu" id="package-dropdown-menu-docs">
<li><a class="main-nav-link" href="../../../faq/index.html">FAQ</a></li>
<li><a class="main-nav-link" href="../../../tutorials/index.html">Tutorials</a>
<li><a class="main-nav-link" href="https://github.com/apache/incubator-mxnet/tree/master/example">Examples</a></li>
<li><a class="main-nav-link" href="../../../architecture/index.html">Architecture</a></li>
<li><a class="main-nav-link" href="https://cwiki.apache.org/confluence/display/MXNET/Apache+MXNet+Home">Developer Wiki</a></li>
<li><a class="main-nav-link" href="../../../api/python/gluon/model_zoo.html">Model Zoo</a></li>
<li><a class="main-nav-link" href="../../../api/python/contrib/onnx.html">ONNX</a></li>
</li></ul>
</span>
<span id="dropdown-menu-position-anchor-community">
<a aria-expanded="true" aria-haspopup="true" class="main-nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">Community <span class="caret"></span></a>
<ul class="dropdown-menu navbar-menu" id="package-dropdown-menu-community">
<li><a class="main-nav-link" href="http://discuss.mxnet.io">Forum</a></li>
<li><a class="main-nav-link" href="https://github.com/apache/incubator-mxnet">Github</a></li>
<li><a class="main-nav-link" href="../../../community/contribute.html">Contribute</a></li>
<li><a class="main-nav-link" href="../../../community/ecosystem.html">Ecosystem</a></li>
<li><a class="main-nav-link" href="../../../community/powered_by.html">Powered By</a></li>
</ul>
</span>
<span id="dropdown-menu-position-anchor-version" style="position: relative"><a href="#" class="main-nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Versions(1.4.1)<span class="caret"></span></a><ul id="package-dropdown-menu" class="dropdown-menu"><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.5.0/index.html>1.5.0</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.4.1/index.html>1.4.1</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.3.1/index.html>1.3.1</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.2.1/index.html>1.2.1</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.1.0/index.html>1.1.0</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/1.0.0/index.html>1.0.0</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/0.12.1/index.html>0.12.1</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/0.11.0/index.html>0.11.0</a></li><li><a class="main-nav-link" href=http://mxnet.incubator.apache.org/versions/master/index.html>master</a></li></ul></span></nav>
<script> function getRootPath(){ return "../../../" } </script>
<div class="burgerIcon dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">☰</a>
<ul class="dropdown-menu" id="burgerMenu">
<li><a href="../../../install/index.html">Install</a></li>
<li><a class="main-nav-link" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="dropdown-submenu dropdown">
<a aria-expanded="true" aria-haspopup="true" class="dropdown-toggle burger-link" data-toggle="dropdown" href="#" tabindex="-1">Gluon</a>
<ul class="dropdown-menu navbar-menu" id="package-dropdown-menu">
<li><a class="main-nav-link" href="../../../gluon/index.html">About</a></li>
<li><a class="main-nav-link" href="http://gluon.mxnet.io">The Straight Dope (Tutorials)</a></li>
<li><a class="main-nav-link" href="https://gluon-cv.mxnet.io">GluonCV Toolkit</a></li>
<li><a class="main-nav-link" href="https://gluon-nlp.mxnet.io/">GluonNLP Toolkit</a></li>
</ul>
</li>
<li class="dropdown-submenu">
<a aria-expanded="true" aria-haspopup="true" class="dropdown-toggle burger-link" data-toggle="dropdown" href="#" tabindex="-1">API</a>
<ul class="dropdown-menu">
<li><a class="main-nav-link" href="../../../api/python/index.html">Python</a></li>
<li><a class="main-nav-link" href="../../../api/c++/index.html">C++</a></li>
<li><a class="main-nav-link" href="../../../api/clojure/index.html">Clojure</a></li>
<li><a class="main-nav-link" href="../../../api/java/index.html">Java</a></li>
<li><a class="main-nav-link" href="../../../api/julia/index.html">Julia</a></li>
<li><a class="main-nav-link" href="../../../api/perl/index.html">Perl</a></li>
<li><a class="main-nav-link" href="../../../api/r/index.html">R</a></li>
<li><a class="main-nav-link" href="../../../api/scala/index.html">Scala</a></li>
</ul>
</li>
<li class="dropdown-submenu">
<a aria-expanded="true" aria-haspopup="true" class="dropdown-toggle burger-link" data-toggle="dropdown" href="#" tabindex="-1">Docs</a>
<ul class="dropdown-menu">
<li><a href="../../../faq/index.html" tabindex="-1">FAQ</a></li>
<li><a href="../../../tutorials/index.html" tabindex="-1">Tutorials</a></li>
<li><a href="https://github.com/apache/incubator-mxnet/tree/master/example" tabindex="-1">Examples</a></li>
<li><a href="../../../architecture/index.html" tabindex="-1">Architecture</a></li>
<li><a href="https://cwiki.apache.org/confluence/display/MXNET/Apache+MXNet+Home" tabindex="-1">Developer Wiki</a></li>
<li><a href="../../../api/python/gluon/model_zoo.html" tabindex="-1">Gluon Model Zoo</a></li>
<li><a href="../../../api/python/contrib/onnx.html" tabindex="-1">ONNX</a></li>
</ul>
</li>
<li class="dropdown-submenu dropdown">
<a aria-haspopup="true" class="dropdown-toggle burger-link" data-toggle="dropdown" href="#" role="button" tabindex="-1">Community</a>
<ul class="dropdown-menu">
<li><a href="http://discuss.mxnet.io" tabindex="-1">Forum</a></li>
<li><a href="https://github.com/apache/incubator-mxnet" tabindex="-1">Github</a></li>
<li><a href="../../../community/contribute.html" tabindex="-1">Contribute</a></li>
<li><a href="../../../community/ecosystem.html" tabindex="-1">Ecosystem</a></li>
<li><a href="../../../community/powered_by.html" tabindex="-1">Powered By</a></li>
</ul>
</li>
<li id="dropdown-menu-position-anchor-version-mobile" class="dropdown-submenu" style="position: relative"><a href="#" tabindex="-1">Versions(1.4.1)</a><ul class="dropdown-menu"><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.5.0/index.html>1.5.0</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.4.1/index.html>1.4.1</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.3.1/index.html>1.3.1</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.2.1/index.html>1.2.1</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.1.0/index.html>1.1.0</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/1.0.0/index.html>1.0.0</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/0.12.1/index.html>0.12.1</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/0.11.0/index.html>0.11.0</a></li><li><a tabindex="-1" href=http://mxnet.incubator.apache.org/versions/master/index.html>master</a></li></ul></li></ul>
</div>
<div class="plusIcon dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button"><span aria-hidden="true" class="glyphicon glyphicon-plus"></span></a>
<ul class="dropdown-menu dropdown-menu-right" id="plusMenu"></ul>
</div>
<div id="search-input-wrap">
<form action="../../../search.html" autocomplete="off" class="" method="get" role="search">
<div class="form-group inner-addon left-addon">
<i class="glyphicon glyphicon-search"></i>
<input class="form-control" name="q" placeholder="Search" type="text"/>
</div>
<input name="check_keywords" type="hidden" value="yes">
<input name="area" type="hidden" value="default"/>
</input></form>
<div id="search-preview"></div>
</div>
<div id="searchIcon">
<span aria-hidden="true" class="glyphicon glyphicon-search"></span>
</div>
<!-- <div id="lang-select-wrap"> -->
<!--   <label id="lang-select-label"> -->
<!--     <\!-- <i class="fa fa-globe"></i> -\-> -->
<!--     <span></span> -->
<!--   </label> -->
<!--   <select id="lang-select"> -->
<!--     <option value="en">Eng</option> -->
<!--     <option value="zh">中文</option> -->
<!--   </select> -->
<!-- </div> -->
<!--     <a id="mobile-nav-toggle">
        <span class="mobile-nav-toggle-bar"></span>
        <span class="mobile-nav-toggle-bar"></span>
        <span class="mobile-nav-toggle-bar"></span>
      </a> -->
</div>
</div>
</div>
<script type="text/javascript">
        $('body').css('background', 'white');
    </script>
<div class="container">
<div class="row">
<div aria-label="main navigation" class="sphinxsidebar leftsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">MXNet APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../c++/index.html">MXNet - C++ API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../clojure/index.html">MXNet - Clojure API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../julia/index.html">MXNet - Julia API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../perl/index.html">MXNet - Perl API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">MXNet - Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#autograd-api">Autograd API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#callback-api">Callback API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#contrib-package">Contrib Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#gluon-api">Gluon API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#image-api">Image API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#io-api">IO API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#kv-store-api">KV Store API</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#metric-api">Metric API</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Evaluation Metric API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#module-api">Module API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#ndarray-api">NDArray API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#optimization-api">Optimization API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#profiler-api">Profiler API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#run-time-compilation-api">Run-Time Compilation API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#symbol-api">Symbol API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#symbol-in-pictures-api">Symbol in Pictures API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#tools">Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../r/index.html">MXNet - R API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scala/index.html">MXNet - Scala API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/index.html">MXNet Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../community/index.html">MXNet Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">MXNet FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gluon/index.html">About Gluon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Installing MXNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html#nvidia-jetson-tx-family">Nvidia Jetson TX family</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html#source-download">Source Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../model_zoo/index.html">MXNet Model Zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
</ul>
</div>
</div>
<div class="content">
<div class="page-tracker"></div>
<!--- Licensed to the Apache Software Foundation (ASF) under one -->
<!--- or more contributor license agreements.  See the NOTICE file -->
<!--- distributed with this work for additional information -->
<!--- regarding copyright ownership.  The ASF licenses this file -->
<!--- to you under the Apache License, Version 2.0 (the -->
<!--- "License"); you may not use this file except in compliance -->
<!--- with the License.  You may obtain a copy of the License at --><!---   http://www.apache.org/licenses/LICENSE-2.0 --><!--- Unless required by applicable law or agreed to in writing, -->
<!--- software distributed under the License is distributed on an -->
<!--- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY -->
<!--- KIND, either express or implied.  See the License for the -->
<!--- specific language governing permissions and limitations -->
<!--- under the License. --><div class="section" id="evaluation-metric-api">
<span id="evaluation-metric-api"></span><h1>Evaluation Metric API<a class="headerlink" href="#evaluation-metric-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This document lists all the evaluation metrics available to evaluate
the performance of a learned model.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%"/>
<col width="90%"/>
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#module-mxnet.metric" title="mxnet.metric"><code class="xref py py-obj docutils literal"><span class="pre">mxnet.metric</span></code></a></td>
<td>Online evaluation metric module.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api-reference">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<script src="../../../_static/js/auto_module_index.js" type="text/javascript"></script><span class="target" id="module-mxnet.metric"></span><p>Online evaluation metric module.</p>
<dl class="function">
<dt id="mxnet.metric.check_label_shapes">
<code class="descclassname">mxnet.metric.</code><code class="descname">check_label_shapes</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em>, <em>wrap=False</em>, <em>shape=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#check_label_shapes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.check_label_shapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for checking shape of label and prediction</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
<li><strong>wrap</strong> (<em>boolean</em>) – If True, wrap labels/preds in a list if they are single NDArray</li>
<li><strong>shape</strong> (<em>boolean</em>) – If True, check the shape of labels and preds;
Otherwise only check their length.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.EvalMetric">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">EvalMetric</code><span class="sig-paren">(</span><em>name</em>, <em>output_names=None</em>, <em>label_names=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all evaluation metrics.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a base class that provides common metric interfaces.
One should not use this class directly, but instead create new metric
classes that extend it.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.get_config">
<code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Save configurations of metric. Can be recreated
from configs with metric.create(<code class="docutils literal"><span class="pre">**config</span></code>)</p>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.update_dict">
<code class="descname">update_dict</code><span class="sig-paren">(</span><em>label</em>, <em>pred</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.update_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.update_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the internal evaluation with named label and pred</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (<em>OrderedDict of str -> NDArray</em>) – name to array mapping for labels.</li>
<li><strong>preds</strong> (<em>OrderedDict of str -> NDArray</em>) – name to array mapping of predicted outputs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the internal evaluation result to initial state.</p>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>names</strong> (<em>list of str</em>) – Name of the metrics.</li>
<li><strong>values</strong> (<em>list of float</em>) – Value of the evaluations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.EvalMetric.get_name_value">
<code class="descname">get_name_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#EvalMetric.get_name_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.EvalMetric.get_name_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns zipped name and value pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A (name, value) tuple list.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of tuples</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="mxnet.metric.create">
<code class="descclassname">mxnet.metric.</code><code class="descname">create</code><span class="sig-paren">(</span><em>metric</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates evaluation metric from metric names or instances of EvalMetric
or a custom metric function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>metric</strong> (<em>str</em><em> or </em><em>callable</em>) – <p>Specifies the metric to create.
This argument must be one of the below:</p>
<ul>
<li>Name of a metric.</li>
<li>An instance of <cite>EvalMetric</cite>.</li>
<li>A list, each element of which is a metric or a metric name.</li>
<li>An evaluation function that computes custom metric for a given batch of
labels and predictions.</li>
</ul>
</li>
<li><strong>*args</strong> (<em>list</em>) – Additional arguments to metric constructor.
Only used when metric is str.</li>
<li><strong>**kwargs</strong> (<em>dict</em>) – Additional arguments to metric constructor.
Only used when metric is str</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="k">def</span> <span class="nf">custom_metric</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">pred</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">label</span> <span class="o">-</span> <span class="n">pred</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">>>> </span><span class="n">metric1</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">'acc'</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">metric2</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">custom_metric</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">metric3</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="n">metric1</span><span class="p">,</span> <span class="n">metric2</span><span class="p">,</span> <span class="s1">'rmse'</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.CompositeEvalMetric">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">CompositeEvalMetric</code><span class="sig-paren">(</span><em>metrics=None</em>, <em>name='composite'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages multiple evaluation metrics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>metrics</strong> (<em>list of EvalMetric</em>) – List of child metrics.</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">eval_metrics_1</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">Accuracy</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">eval_metrics_2</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">F1</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">eval_metrics</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">CompositeEvalMetric</span><span class="p">()</span>
<span class="gp">>>> </span><span class="k">for</span> <span class="n">child_metric</span> <span class="ow">in</span> <span class="p">[</span><span class="n">eval_metrics_1</span><span class="p">,</span> <span class="n">eval_metrics_2</span><span class="p">]:</span>
<span class="gp">>>> </span>    <span class="n">eval_metrics</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">child_metric</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">eval_metrics</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">eval_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">(['accuracy', 'f1'], [0.6666666666666666, 0.8])</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.CompositeEvalMetric.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>metric</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a child metric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metric</strong> – A metric instance.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.CompositeEvalMetric.get_metric">
<code class="descname">get_metric</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric.get_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric.get_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a child metric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<em>int</em>) – Index of child metric in the list of metrics.</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.CompositeEvalMetric.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.CompositeEvalMetric.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the internal evaluation result to initial state.</p>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.CompositeEvalMetric.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CompositeEvalMetric.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CompositeEvalMetric.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>names</strong> (<em>list of str</em>) – Name of the metrics.</li>
<li><strong>values</strong> (<em>list of float</em>) – Value of the evaluations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.Accuracy">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">Accuracy</code><span class="sig-paren">(</span><em>axis=1</em>, <em>name='accuracy'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Accuracy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Accuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes accuracy classification score.</p>
<p>The accuracy score is defined as</p>
<div class="math">
\[\text{accuracy}(y, \hat{y}) = \frac{1}{n} \sum_{i=0}^{n-1}
\text{1}(\hat{y_i} == y_i)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>int</em><em>, </em><em>default=1</em>) – The axis that represents classes</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">acc</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">Accuracy</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">acc</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">acc</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('accuracy', 0.6666666666666666)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.Accuracy.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Accuracy.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Accuracy.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data with class indices as values, one per sample.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Prediction values for samples. Each prediction value can either be the class index,
or a vector of likelihoods for all classes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.TopKAccuracy">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">TopKAccuracy</code><span class="sig-paren">(</span><em>top_k=1</em>, <em>name='top_k_accuracy'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#TopKAccuracy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.TopKAccuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes top k predictions accuracy.</p>
<p><cite>TopKAccuracy</cite> differs from Accuracy in that it considers the prediction
to be <code class="docutils literal"><span class="pre">True</span></code> as long as the ground truth label is in the top K
predicated labels.</p>
<p>If <cite>top_k</cite> = <code class="docutils literal"><span class="pre">1</span></code>, then <cite>TopKAccuracy</cite> is identical to <cite>Accuracy</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>top_k</strong> (<em>int</em>) – Whether targets are in top k predictions.</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">top_k</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">>>> </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">acc</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">TopKAccuracy</span><span class="p">(</span><span class="n">top_k</span><span class="o">=</span><span class="n">top_k</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">acc</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">acc</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('top_k_accuracy', 0.3)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.TopKAccuracy.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#TopKAccuracy.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.TopKAccuracy.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.F1">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">F1</code><span class="sig-paren">(</span><em>name='f1'</em>, <em>output_names=None</em>, <em>label_names=None</em>, <em>average='macro'</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#F1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.F1" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the F1 score of a binary classification problem.</p>
<p>The F1 score is equivalent to harmonic mean of the precision and recall,
where the best value is 1.0 and the worst value is 0.0. The formula for F1 score is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F1</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">precision</span> <span class="o">*</span> <span class="n">recall</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">precision</span> <span class="o">+</span> <span class="n">recall</span><span class="p">)</span>
</pre></div>
</div>
<p>The formula for precision and recall is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">precision</span> <span class="o">=</span> <span class="n">true_positives</span> <span class="o">/</span> <span class="p">(</span><span class="n">true_positives</span> <span class="o">+</span> <span class="n">false_positives</span><span class="p">)</span>
<span class="n">recall</span>    <span class="o">=</span> <span class="n">true_positives</span> <span class="o">/</span> <span class="p">(</span><span class="n">true_positives</span> <span class="o">+</span> <span class="n">false_negatives</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This F1 score only supports binary classification.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
<li><strong>average</strong> (<em>str</em><em>, </em><em>default 'macro'</em>) – <dl class="docutils">
<dt>Strategy to be used for aggregating across mini-batches.</dt>
<dd>“macro”: average the F1 scores for each batch.
“micro”: compute a single F1 score across all batches.</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">f1</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">F1</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">f1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">f1</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('f1', 0.8)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.F1.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#F1.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.F1.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.F1.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#F1.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.F1.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the internal evaluation result to initial state.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.MCC">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">MCC</code><span class="sig-paren">(</span><em>name='mcc'</em>, <em>output_names=None</em>, <em>label_names=None</em>, <em>average='macro'</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MCC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MCC" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the Matthews Correlation Coefficient of a binary classification problem.</p>
<p>While slower to compute than F1 the MCC can give insight that F1 or Accuracy cannot.
For instance, if the network always predicts the same result
then the MCC will immeadiately show this. The MCC is also symetric with respect
to positive and negative categorization, however, there needs to be both
positive and negative examples in the labels or it will always return 0.
MCC of 0 is uncorrelated, 1 is completely correlated, and -1 is negatively correlated.</p>
<div class="math">
\[\text{MCC} = \frac{ TP \times TN - FP \times FN }
{\sqrt{ (TP + FP) ( TP + FN ) ( TN + FP ) ( TN + FN ) } }\]</div>
<p>where 0 terms in the denominator are replaced by 1.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This version of MCC only supports binary classification.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
<li><strong>average</strong> (<em>str</em><em>, </em><em>default 'macro'</em>) – <dl class="docutils">
<dt>Strategy to be used for aggregating across mini-batches.</dt>
<dd>“macro”: average the MCC for each batch.
“micro”: compute a single MCC across all batches.</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="c1"># In this example the network almost always predicts positive</span>
<span class="gp">>>> </span><span class="n">false_positives</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">>>> </span><span class="n">false_negatives</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">>>> </span><span class="n">true_positives</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="gp">>>> </span><span class="n">true_negatives</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="go">    [[.3, .7]]*false_positives +</span>
<span class="go">    [[.7, .3]]*true_negatives +</span>
<span class="go">    [[.7, .3]]*false_negatives +</span>
<span class="go">    [[.3, .7]]*true_positives</span>
<span class="go">)]</span>
<span class="gp">>>> </span><span class="n">labels</span>  <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="go">    [0.]*(false_positives + true_negatives) +</span>
<span class="go">    [1.]*(false_negatives + true_positives)</span>
<span class="go">)]</span>
<span class="gp">>>> </span><span class="n">f1</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">F1</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">f1</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">mcc</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">MCC</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">mcc</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">f1</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('f1', 0.95233560306652054)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">mcc</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('mcc', 0.01917751877733392)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.MCC.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MCC.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MCC.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.MCC.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MCC.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MCC.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the internal evaluation result to initial state.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.Perplexity">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">Perplexity</code><span class="sig-paren">(</span><em>ignore_label</em>, <em>axis=-1</em>, <em>name='perplexity'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Perplexity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Perplexity" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes perplexity.</p>
<p>Perplexity is a measurement of how well a probability distribution
or model predicts a sample. A low perplexity indicates the model
is good at predicting the sample.</p>
<p>The perplexity of a model q is defined as</p>
<div class="math">
\[b^{\big(-\frac{1}{N} \sum_{i=1}^N \log_b q(x_i) \big)}
= \exp \big(-\frac{1}{N} \sum_{i=1}^N \log q(x_i)\big)\]</div>
<p>where we let <cite>b = e</cite>.</p>
<p><span class="math">\(q(x_i)\)</span> is the predicted value of its ground truth
label on sample <span class="math">\(x_i\)</span>.</p>
<p>For example, we have three samples <span class="math">\(x_1, x_2, x_3\)</span> and their labels
are <span class="math">\([0, 1, 1]\)</span>.
Suppose our model predicts <span class="math">\(q(x_1) = p(y_1 = 0 | x_1) = 0.3\)</span>
and <span class="math">\(q(x_2) = 1.0\)</span>,
<span class="math">\(q(x_3) = 0.6\)</span>. The perplexity of model q is
<span class="math">\(exp\big(-(\log 0.3 + \log 1.0 + \log 0.6) / 3\big) = 1.77109762852\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ignore_label</strong> (<em>int</em><em> or </em><em>None</em>) – Index of invalid label to ignore when
counting. By default, sets to -1.
If set to <cite>None</cite>, it will include all entries.</li>
<li><strong>axis</strong> (<em>int</em><em> (</em><em>default -1</em><em>)</em>) – The axis from prediction that was used to
compute softmax. By default use the last
axis.</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">perp</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">Perplexity</span><span class="p">(</span><span class="n">ignore_label</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">perp</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">perp</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('Perplexity', 1.7710976285155853)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.Perplexity.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Perplexity.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Perplexity.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="method">
<dt id="mxnet.metric.Perplexity.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Perplexity.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Perplexity.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Representing name of the metric and evaluation result.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Tuple of (str, float)</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.MAE">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">MAE</code><span class="sig-paren">(</span><em>name='mae'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MAE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MAE" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Mean Absolute Error (MAE) loss.</p>
<p>The mean absolute error is given by</p>
<div class="math">
\[\frac{\sum_i^n |y_i - \hat{y}_i|}{n}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">mean_absolute_error</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">MAE</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">mean_absolute_error</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">mean_absolute_error</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('mae', 0.5)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.MAE.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MAE.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MAE.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.MSE">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">MSE</code><span class="sig-paren">(</span><em>name='mse'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MSE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Mean Squared Error (MSE) loss.</p>
<p>The mean squared error is given by</p>
<div class="math">
\[\frac{\sum_i^n (y_i - \hat{y}_i)^2}{n}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">mean_squared_error</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">MSE</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">mean_squared_error</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">mean_squared_error</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('mse', 0.375)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.MSE.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#MSE.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.MSE.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.RMSE">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">RMSE</code><span class="sig-paren">(</span><em>name='rmse'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#RMSE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.RMSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Root Mean Squred Error (RMSE) loss.</p>
<p>The root mean squared error is given by</p>
<div class="math">
\[\sqrt{\frac{\sum_i^n (y_i - \hat{y}_i)^2}{n}}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">root_mean_squared_error</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">RMSE</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">root_mean_squared_error</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">root_mean_squared_error</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('rmse', 0.612372457981)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.RMSE.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#RMSE.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.RMSE.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.CrossEntropy">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">CrossEntropy</code><span class="sig-paren">(</span><em>eps=1e-12</em>, <em>name='cross-entropy'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CrossEntropy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CrossEntropy" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Cross Entropy loss.</p>
<p>The cross entropy over a batch of sample size <span class="math">\(N\)</span> is given by</p>
<div class="math">
\[-\sum_{n=1}^{N}\sum_{k=1}^{K}t_{nk}\log (y_{nk}),\]</div>
<p>where <span class="math">\(t_{nk}=1\)</span> if and only if sample <span class="math">\(n\)</span> belongs to class <span class="math">\(k\)</span>.
<span class="math">\(y_{nk}\)</span> denotes the probability of sample <span class="math">\(n\)</span> belonging to
class <span class="math">\(k\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>eps</strong> (<em>float</em>) – Cross Entropy loss is undefined for predicted value is 0 or 1,
so predicted values are added with the small constant.</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">ce</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">CrossEntropy</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">ce</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">ce</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('cross-entropy', 0.57159948348999023)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.CrossEntropy.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CrossEntropy.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CrossEntropy.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.NegativeLogLikelihood">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">NegativeLogLikelihood</code><span class="sig-paren">(</span><em>eps=1e-12</em>, <em>name='nll-loss'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#NegativeLogLikelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.NegativeLogLikelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the negative log-likelihood loss.</p>
<p>The negative log-likelihoodd loss over a batch of sample size <span class="math">\(N\)</span> is given by</p>
<div class="math">
\[-\sum_{n=1}^{N}\sum_{k=1}^{K}t_{nk}\log (y_{nk}),\]</div>
<p>where <span class="math">\(K\)</span> is the number of classes, <span class="math">\(y_{nk}\)</span> is the prediceted probability for
<span class="math">\(k\)</span>-th class for <span class="math">\(n\)</span>-th sample. <span class="math">\(t_{nk}=1\)</span> if and only if sample
<span class="math">\(n\)</span> belongs to class <span class="math">\(k\)</span>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>eps</strong> (<em>float</em>) – Negative log-likelihood loss is undefined for predicted value is 0,
so predicted values are added with the small constant.</li>
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
<span class="gp">>>> </span><span class="n">nll_loss</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">NegativeLogLikelihood</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">nll_loss</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">nll_loss</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('nll-loss', 0.57159948348999023)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.NegativeLogLikelihood.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#NegativeLogLikelihood.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.NegativeLogLikelihood.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.PearsonCorrelation">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">PearsonCorrelation</code><span class="sig-paren">(</span><em>name='pearsonr'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#PearsonCorrelation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.PearsonCorrelation" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Pearson correlation.</p>
<p>The pearson correlation is given by</p>
<div class="math">
\[\frac{cov(y, \hat{y})}{\sigma{y}\sigma{\hat{y}}}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">labels</span>   <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])]</span>
<span class="gp">>>> </span><span class="n">pr</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">PearsonCorrelation</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">pr</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">pr</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('pearson-correlation', 0.42163704544016178)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.PearsonCorrelation.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#PearsonCorrelation.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.PearsonCorrelation.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.Loss">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">Loss</code><span class="sig-paren">(</span><em>name='loss'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy metric for directly printing loss.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.Torch">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">Torch</code><span class="sig-paren">(</span><em>name='torch'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy metric for torch criterions.</p>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.Caffe">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">Caffe</code><span class="sig-paren">(</span><em>name='caffe'</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#Caffe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.Caffe" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy metric for caffe criterions.</p>
</dd></dl>
<dl class="class">
<dt id="mxnet.metric.CustomMetric">
<em class="property">class </em><code class="descclassname">mxnet.metric.</code><code class="descname">CustomMetric</code><span class="sig-paren">(</span><em>feval</em>, <em>name=None</em>, <em>allow_extra_outputs=False</em>, <em>output_names=None</em>, <em>label_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CustomMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CustomMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a customized evaluation metric.</p>
<p>The <cite>feval</cite> function can return a <cite>tuple</cite> of (sum_metric, num_inst) or return
an <cite>int</cite> sum_metric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feval</strong> (<em>callable</em><em>(</em><em>label</em><em>, </em><em>pred</em><em>)</em>) – Customized evaluation function.</li>
<li><strong>name</strong> (<em>str</em>) – The name of the metric. (the default is None).</li>
<li><strong>allow_extra_outputs</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, the prediction outputs can have extra outputs.
This is useful in RNN, where the states are also produced
in outputs for forwarding. (the default is False).</li>
<li><strong>name</strong> – Name of this metric instance for display.</li>
<li><strong>output_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of predictions that should be used when updating with update_dict.
By default include all predictions.</li>
<li><strong>label_names</strong> (<em>list of str</em><em>, or </em><em>None</em>) – Name of labels that should be used when updating with update_dict.
By default include all labels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="n">predicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">mx</span><span class="o">.</span><span class="n">nd</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>
<span class="gp">>>> </span><span class="n">feval</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">>>> </span><span class="n">eval_metrics</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">CustomMetric</span><span class="p">(</span><span class="n">feval</span><span class="o">=</span><span class="n">feval</span><span class="p">)</span>
<span class="gp">>>> </span><span class="n">eval_metrics</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">predicts</span><span class="p">)</span>
<span class="gp">>>> </span><span class="nb">print</span> <span class="n">eval_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="go">('custom(<lambda>)', 6.0)</span>
</pre></div>
</div>
<dl class="method">
<dt id="mxnet.metric.CustomMetric.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>labels</em>, <em>preds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#CustomMetric.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.CustomMetric.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal evaluation result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (list of <cite>NDArray</cite>) – The labels of the data.</li>
<li><strong>preds</strong> (list of <cite>NDArray</cite>) – Predicted values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="mxnet.metric.np">
<code class="descclassname">mxnet.metric.</code><code class="descname">np</code><span class="sig-paren">(</span><em>numpy_feval</em>, <em>name=None</em>, <em>allow_extra_outputs=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/mxnet/metric.html#np"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mxnet.metric.np" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a custom evaluation metric that receives its inputs as numpy arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"/>
<col class="field-body"/>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>numpy_feval</strong> (<em>callable</em><em>(</em><em>label</em><em>, </em><em>pred</em><em>)</em>) – Custom evaluation function that receives labels and predictions for a minibatch
as numpy arrays and returns the corresponding custom metric as a floating point number.</li>
<li><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the custom metric.</li>
<li><strong>allow_extra_outputs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether prediction output is allowed to have extra outputs. This is useful in cases
like RNN where states are also part of output which can then be fed back to the RNN
in the next step. By default, extra outputs are not allowed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Custom metric corresponding to the provided labels and predictions.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">>>> </span><span class="k">def</span> <span class="nf">custom_metric</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">pred</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">label</span><span class="o">-</span><span class="n">pred</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">>>> </span><span class="n">metric</span> <span class="o">=</span> <span class="n">mx</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">np</span><span class="p">(</span><span class="n">custom_metric</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
<script>auto_index("api-reference");</script></div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar rightsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">Evaluation Metric API</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div><div class="footer">
<div class="section-disclaimer">
<div class="container">
<div>
<img height="60" src="https://raw.githubusercontent.com/dmlc/web-data/master/mxnet/image/apache_incubator_logo.png"/>
<p>
            Apache MXNet is an effort undergoing incubation at The Apache Software Foundation (ASF), <strong>sponsored by the <i>Apache Incubator</i></strong>. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
        </p>
<p>
            "Copyright © 2017-2018, The Apache Software Foundation
            Apache MXNet, MXNet, Apache, the Apache feather, and the Apache MXNet project logo are either registered trademarks or trademarks of the Apache Software Foundation."
        </p>
</div>
</div>
</div>
</div> <!-- pagename != index -->
</div>
<script crossorigin="anonymous" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="../../../_static/js/sidebar.js" type="text/javascript"></script>
<script src="../../../_static/js/search.js" type="text/javascript"></script>
<script src="../../../_static/js/navbar.js" type="text/javascript"></script>
<script src="../../../_static/js/clipboard.min.js" type="text/javascript"></script>
<script src="../../../_static/js/copycode.js" type="text/javascript"></script>
<script src="../../../_static/js/page.js" type="text/javascript"></script>
<script src="../../../_static/js/docversion.js" type="text/javascript"></script>
<script type="text/javascript">
        $('body').ready(function () {
            $('body').css('visibility', 'visible');
        });
    </script>
</body>
</html>